(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{471:function(t,s,a){"use strict";a.r(s);var n=a(22),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_3-노드-기능-알아보기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-노드-기능-알아보기"}},[t._v("#")]),t._v(" 3. 노드 기능 알아보기")]),t._v(" "),a("h2",{attrs:{id:"repl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#repl"}},[t._v("#")]),t._v(" REPL")]),t._v(" "),a("p",[t._v("브라우저의 콘솔 탭에서 자바스크립트 코드를 입력하고 실행하듯이"),a("br"),t._v("\n노드에서 컴파일 없이 "),a("strong",[t._v("즉석으로 코드를 실행해주는 콘솔")]),t._v("이다.")]),t._v(" "),a("p",[t._v("터미널창에 "),a("code",[t._v("node")]),t._v(" 라고 입력하면 실행된다.")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"모듈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#모듈"}},[t._v("#")]),t._v(" 모듈")]),t._v(" "),a("p",[t._v("특정한 기능을 하는 함수나 변수들의 집합")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("모듈은 "),a("code",[t._v("file://")]),t._v(" 프로토콜과 같이 로컬에서 직접 파일을 여는 경우에는 동작하지 않는다."),a("br"),t._v("\nHTTP 또는 HTTPS 프로토콜을 통해서만 동작한다."),a("br"),t._v("\n(즉, 로컬 서버라도 있어야 동작한다.)")])]),t._v(" "),a("h3",{attrs:{id:"엄격-모드로-실행됨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#엄격-모드로-실행됨"}},[t._v("#")]),t._v(" 엄격 모드로 실행됨")]),t._v(" "),a("p",[t._v("모듈은 항상 "),a("code",[t._v("엄격 모드(use strict)")]),t._v("로 실행된다."),a("br"),t._v("\n선언되지 않은 변수에 값을 할당하는 등의 코드는 에러를 발생시킨다.")]),t._v(" "),a("h3",{attrs:{id:"모듈-레벨-스코프"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#모듈-레벨-스코프"}},[t._v("#")]),t._v(" 모듈 레벨 스코프")]),t._v(" "),a("p",[t._v("모듈은 자신만의 스코프가 있다."),a("br"),t._v("\n따라서 모듈 내부에서 정의한 변수나 함수는 다른 스크립트에서 접근할 수 없다.")]),t._v(" "),a("h3",{attrs:{id:"단-한번만-평가됨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#단-한번만-평가됨"}},[t._v("#")]),t._v(" 단 한번만 평가됨")]),t._v(" "),a("p",[t._v("동일한 모듈이 여러 곳에서 사용되더라도 모듈은 "),a("strong",[t._v("최초 호출 시 단 한번만 실행된다")]),t._v("."),a("br"),t._v("\n실행 후의 결과를 모듈을 사용하는 모든 곳에 내보낸다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// admin.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" admin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" admin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./admin.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nadmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Pete"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" admin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./admin.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Pete 출력됨")]),t._v("\n")])])]),a("h3",{attrs:{id:"this는-undefined"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this는-undefined"}},[t._v("#")]),t._v(" this는 undefined")]),t._v(" "),a("p",[t._v("모듈은 자신만의 스코프를 가지므로 최상위 레벨의 "),a("code",[t._v("this")]),t._v("는 "),a("code",[t._v("undefined")]),t._v("가 된다.")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"eventemitter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eventemitter"}},[t._v("#")]),t._v(" EventEmitter")]),t._v(" "),a("p",[t._v("객체의 이벤트에 리스너를 직접 관리할 수 있다."),a("br"),t._v("\n주로 이벤트에 내가 원하는 콜백을 리스너로 달아주기 위해 사용한다.")]),t._v(" "),a("p",[t._v("사용 방법은 아래와 같다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" EventEmitter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'events'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myEvent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmyEvent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'이벤트명'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 콜백함수"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("메서드명")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("기능")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("on(이벤트명, 콜백)"),a("br"),t._v("addListener(이벤트명, 콜백)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("이벤트에 콜백을 연결한다.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("emit(이벤트명)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("이벤트를 호출한다.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("once(이벤트명, 콜백)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("이벤트가 몇번 호출되든 첫 호출에 딱 한번만 실행되는 리스너다.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("removeAllListeners(이벤트명)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("해당 이벤트에 연결된 모든 리스너를 제거한다.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("removeListener(이벤트명, 리스너)"),a("br"),t._v("off(이벤트명, 콜백)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("해당 이벤트에 연결된 특정 리스너를 제거한다.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("listenerCount(이벤트명)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("현재 리스너가 몇 개 연결되어 있는지 출력해준다.")])])])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"예외-처리하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#예외-처리하기"}},[t._v("#")]),t._v(" 예외 처리하기")]),t._v(" "),a("p",[t._v("노드는 예외처리가 중요하다. 예외가 발생하면 실행중인 노드 프로세스를 중단시킨다.")]),t._v(" "),a("p",[t._v("서버의 경우에는 예외가 발생하면 서버가 중단되는것이다.")]),t._v(" "),a("p",[t._v("예외를 처리하는 방법은 예외 발생 코드를 "),a("code",[t._v("try/catch")]),t._v("로 감싸주는 것이다.")]),t._v(" "),a("h3",{attrs:{id:"노드-자체에서-해결해주는-에러"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#노드-자체에서-해결해주는-에러"}},[t._v("#")]),t._v(" 노드 자체에서 해결해주는 에러")]),t._v(" "),a("p",[t._v("해당 에러들은 우리가 따로 핸들링하지 않아도 알아서 처리되므로 노드가 중단되지 않는다.")]),t._v(" "),a("ul",[a("li",[t._v("노드 내장 모듈의 에러")]),t._v(" "),a("li",[t._v("Promise의 에러")])]),t._v(" "),a("p",[t._v("다만 프로미스의 에러는 노드 버전이 올라감에 따라 바뀔 수 있기 떄문에 catch를 붙여주는 것을 권장한다.")]),t._v(" "),a("h3",{attrs:{id:"예측-불가능한-에러를-처리하는-방법"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#예측-불가능한-에러를-처리하는-방법"}},[t._v("#")]),t._v(" 예측 불가능한 에러를 처리하는 방법")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("uncaughtException")]),a("br"),t._v("\n처리하지 못한 에러가 발생했을 때 uncaughtException 이벤트리스너를 사용하면 콜백함수를 실행시켜주고 프로세스가 유지된다.")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uncaughtException'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'예기치 못한 에러'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("노드 공식 문서에 따르면 해당 이벤트는 최후의 수단으로 사용할 것을 명시하고 있다.")]),t._v(" "),a("p",[a("code",[t._v("uncaughtException")]),t._v(" 이벤트는 이벤트 발생 후에 다음 동작이 제대로 동작하는지 보증하지 않는다고 한다."),a("br"),t._v("\n따라서 에러 기록 용도로 사용하는 것이 좋다.")]),t._v(" "),a("ul",[a("li",[t._v("에러 리스트 : "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v14.x/docs/api/errors.html#errors_node_js_error_codes",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://nodejs.org/dist/latest-v14.x/docs/api/errors.html#errors_node_js_error_codes"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);