# 쿠버네티스 설치

## 쿠버네티스란?
쿠버네티스는 컨테이너 오케스트레이션(Container Orchestration)이라고 불린다.  
아래 이미지는 쿠버네티스 클러스터의 구성 요소이다.
<img src='/images/TIL/Infra-Kubernetes/01-cluster.svg' style="background:white">  

위 이미지를 요약하자면 아래와 같다.
- Pod: 여러 개의 컨테이너를 포함할 수 있는 k8s에서 가장 작은 배포 단위
- Node: 여러 개의 Pod을 포함할 수 있는 리소스 단위이다. 컨테이너가 배포될 물리 or 가상 서버이며 Worker Node라고도 부른다.
- Control Plane : 노드를 제어하고 전체 클러스터를 관리해주는 컨트롤러로, 전체적인 제어/관리를 하기 위한 관리 서버이다.

## 설치방법
minikube를 통해 실습을 진행한다.
### windows
윈도우 설치법은 일단 스킵

### MacOS
- 설치
```sh
brew install minikube
```
- 명령어
```sh
# 버전확인
minikube version

# 가상머신 시작 (intel 버전)
minikube start --driver=hyperkit
# 가상머신 시작 (M1 버전 - docker desktop 설치 필요)
minikube start --driver=docker
# driver 에러가 발생하면 virtual box를 사용
minikube start --driver=virtualbox
# 특정 k8s 버전 실행
minikube start --kubernetes-version=v1.23.1

# 상태확인
minikube status

# 정지
minikube stop

# 삭제
minikube delete

# ssh 접속
minikube ssh

# ip 확인
minikube ip
```

- Docker Desktop
```sh
minikube service [service name]
```
  
실행결과
